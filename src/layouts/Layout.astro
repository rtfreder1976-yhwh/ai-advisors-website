---
import '../styles/global.css';

interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site);

const {
  title = 'Singing River AI | AI Consulting for Business Growth',
  description = 'Transform your business with intelligent AI solutions. Expert consulting, implementation, and training for businesses.',
  image = '/og-image.png'
} = Astro.props;

const ogImageURL = new URL(image, Astro.site);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <meta name="generator" content={Astro.generator} />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImageURL} />
    <meta property="og:site_name" content="Singing River AI" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImageURL} />

    <!-- Additional SEO -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Singing River AI" />
    <meta name="keywords" content="AI consulting, artificial intelligence, business automation, AI implementation, machine learning, AI training, Alabama" />

    <title>{title}</title>

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://singingriverai.com/#organization",
          "name": "Singing River AI",
          "url": "https://singingriverai.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://singingriverai.com/og-image.png",
            "width": 1200,
            "height": 630
          },
          "image": "https://singingriverai.com/og-image.png",
          "description": "Practical AI consulting for small businesses in North Alabama. From education to implementation, we deliver affordable AI solutions that actually work.",
          "telephone": "(256) 740-3195",
          "email": "info@singingriverai.com",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Tuscumbia",
            "addressRegion": "AL",
            "addressCountry": "US"
          },
          "areaServed": [
            { "@type": "City", "name": "Huntsville", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Florence", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Muscle Shoals", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Tuscumbia", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Sheffield", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Decatur", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Athens", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "AdministrativeArea", "name": "North Alabama" }
          ],
          "founder": { "@id": "https://singingriverai.com/#founder" },
          "sameAs": []
        },
        {
          "@type": ["LocalBusiness", "ProfessionalService"],
          "@id": "https://singingriverai.com/#localbusiness",
          "name": "Singing River AI",
          "url": "https://singingriverai.com",
          "telephone": "(256) 740-3195",
          "email": "info@singingriverai.com",
          "priceRange": "$",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Tuscumbia",
            "addressRegion": "AL",
            "addressCountry": "US"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": 34.7312,
            "longitude": -87.7025
          },
          "areaServed": [
            { "@type": "City", "name": "Huntsville", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "City", "name": "Florence", "containedInPlace": { "@type": "State", "name": "Alabama" } },
            { "@type": "AdministrativeArea", "name": "North Alabama" }
          ],
          "serviceType": ["AI Consulting", "AI Training", "AI Implementation", "Business Automation"],
          "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "AI Consulting Services",
            "itemListElement": [
              {
                "@type": "Offer",
                "itemOffered": {
                  "@type": "Service",
                  "name": "Free 30-Minute Consultation",
                  "description": "Discuss your AI needs and explore possibilities"
                },
                "price": "0",
                "priceCurrency": "USD"
              }
            ]
          }
        },
        {
          "@type": "Person",
          "@id": "https://singingriverai.com/#founder",
          "name": "Todd Frederickson",
          "jobTitle": "Founder & AI Advisor",
          "description": "AI consultant with 24+ years in technology and business transformation, specializing in practical AI solutions for small businesses.",
          "worksFor": { "@id": "https://singingriverai.com/#organization" },
          "knowsAbout": [
            "Artificial Intelligence",
            "Business Automation",
            "AI Implementation",
            "Small Business Consulting",
            "CRM Automation",
            "ChatGPT",
            "Generative AI",
            "Process Optimization"
          ]
        },
        {
          "@type": "WebSite",
          "@id": "https://singingriverai.com/#website",
          "url": "https://singingriverai.com",
          "name": "Singing River AI",
          "description": "AI Consulting for Small Business",
          "publisher": { "@id": "https://singingriverai.com/#organization" }
        },
        {
          "@type": "WebPage",
          "@id": "https://singingriverai.com/#webpage",
          "url": "https://singingriverai.com",
          "name": title,
          "description": description,
          "isPartOf": { "@id": "https://singingriverai.com/#website" },
          "about": { "@id": "https://singingriverai.com/#organization" },
          "primaryImageOfPage": {
            "@type": "ImageObject",
            "url": "https://singingriverai.com/og-image.png"
          }
        }
      ]
    })} />
  </head>
  <body class="grain-overlay">
    <slot />
  </body>
</html>
